# ZooApplication

**ZooApplication** — это консольное приложение, которое управляет животными и предметами в зоопарке. Оно демонстрирует принципы **SOLID**, применение **Dependency Injection** и покрыто юнит-тестами не менее чем на 60%.

## 1. Краткое описание

Приложение позволяет:

1. Добавлять животных (травоядных, хищников, либо пользовательский вид).
2. Добавлять предметы (инвентарь).
3. Выводить общий список инвентаря (и животных, и предметов).
4. Показывать список животных, подходящих для контактного зоопарка (IsContactZoo = true).
5. Подсчитывать и выводить количество травоядных и хищников.
6. Подсчитывать и выводить количество животных, которые могут находиться в контактном зоопарке.
7. Выход из системы.

## 2. Структура решения

В проекте есть несколько важных компонентов:

- **Interfaces**  
  - `IAlive` — интерфейс для "живых" объектов (животных), включает свойство `Food`.  
  - `IInventory` — интерфейс для объектов, которые подлежат учёту в инвентаре, включает свойство `Number`.  

- **Models**  
  - **Animals**:  
    - `Animal` (абстрактный) реализует `IAlive` и `IInventory`. Имеет `Id`, `Name`, `Food` и флаг `IsContactZoo`.  
    - `Herbo` (травоядное) и `Predator` (хищник) — наследуют `Animal`.  
    - Конкретные виды: `Monkey`, `Rabbit` (оба травоядные) и `Tiger`, `Wolf` (хищники).  
  - **Things** (предметы): `Thing`, `Table`, `Computer` — реализуют `IInventory`.

- **Services**  
  - `VeterinaryClinic` — имитирует проверку здоровья животного (с вероятностью 50/50).  
  - `Zoo` — содержит коллекции `Animals` и `Inventory`, а также методы добавления животных и предметов.

- **Program.cs** (точка входа)  
  - Содержит меню приложения. При запуске программа спрашивает пользователя, что делать (добавить животное, добавить предмет, показать инвентарь и т. д.).

- **Tests** (отдельный проект, например, `ZooApplication.Tests`)  
  - Использует xUnit для тестирования логики проекта (например, подсчёт животных, флаги контактного зоопарка, работа с коллекциями в `Zoo`).

## 3. Принципы SOLID в проекте

1. **Single Responsibility Principle (SRP)**  
   - Каждый класс отвечает только за свои задачи. `Animal` — базовая логика животных, `Zoo` — управление списками животных и предметов, `VeterinaryClinic` — проверка здоровья, и так далее.

2. **Open/Closed Principle (OCP)**  
   - Для добавления нового типа животного достаточно создать новый класс, унаследованный от `Animal` (или `Herbo`/`Predator`), без модификации существующего кода.

3. **Liskov Substitution Principle (LSP)**  
   - Везде, где ожидается `Animal`, можно подставить `Monkey`, `Tiger` и т. д. И всё будет работать, т. к. они наследуют `Animal`.

4. **Interface Segregation Principle (ISP)**  
   - Интерфейсы `IAlive` и `IInventory` разделены и не нагружают реализующие классы ненужными методами.

5. **Dependency Inversion Principle (DIP)**  
   - В `Program.cs` используется контейнер `Microsoft.Extensions.DependencyInjection`. Мы не создаём напрямую объекты `Zoo` или `VeterinaryClinic`, а инжектируем зависимости через DI.

## 4. Механизм проверки здоровья (50/50)

В классе `VeterinaryClinic` используется следующий метод:

```csharp
public bool CheckHealth(string animalName)
{
    Console.WriteLine($"Проверка здоровья животного \"{animalName}\"...");
    return new Random().Next(2) == 1;
}
